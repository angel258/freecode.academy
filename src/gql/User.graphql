query me {
  user: me {
    ...meUser
  }
}

mutation signup($data: UserSignupDataInput!) {
  response: signup(data: $data) {
    success
    message
    errors {
      key
      message
    }
    token
    data {
      ...UserNoNesting
    }
  }
}

fragment MeUserTimer on Timer {
  id
  createdAt
  stopedAt
  Task {
    id
    name
    status
    TaskProjects {
      id
      createdAt
      updatedAt
      Project {
        id
        type
        name
      }
    }
  }
}

fragment UserNoNesting on User {
  id
  createdAt
  updatedAt
  username
  email
  phone
  showEmail
  showPhone
  # password
  fullname
  image
  address
  sudo
  active
  activated
  deleted
  hasEmail
  hasPhone
  # marketplaceToken
  # hidden
  acceptChatMessageAnonymous
  acceptNewChatRoomAnonymous
  acceptNewChatRoom
}

fragment meUser on User {
  ...UserNoNesting
  CodeChallengeCompletions {
    ...MeUserCodeChallengeCompletion
  }
  EthAccounts {
    id
    address
    balance(convert: ether)
  }
  Timers(first: 1, where: { stopedAt: null }) {
    ...MeUserTimer
  }
}

fragment user_ on User {
  ...UserNoNesting
  EthAccounts {
    ...EthAccountNoNesting
  }
  NotificationTypes {
    ...NotificationTypeNoNesting
  }
  UserTechnologies {
    ...technology_UserTechnology
    Technology {
      ...TechnologyNoNesting
    }
  }
  # Projects {
  #   ...ProjectMemberNoNesting
  #   Project {
  #     ...ProjectNoNesting
  #     Resource {
  #       ...ResourceNoNesting
  #     }
  #   }
  # }
  # ProjectsCreated {
  #   ...ProjectNoNesting
  #   Resource {
  #     ...ResourceNoNesting
  #   }
  # }
}

fragment EthAccountNoNesting on EthAccount {
  id
  createdAt
  updatedAt
  name
  description
  address
  type
  source
  bytecode
  abi
  balance
}

fragment NotificationTypeNoNesting on NotificationType {
  id
  createdAt
  updatedAt
  name
  code
  comment
  oldID
}

fragment ProjectMemberNoNesting on ProjectMember {
  id
  createdAt
  updatedAt
  status
}
