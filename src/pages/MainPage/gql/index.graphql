query mainPage($timersWhere: TimerWhereInput) {
  students: users(
    take: 4
    orderBy: { createdAt: desc }

    # TODO Check logic
    # where: { ProjectsCreated_some: { type: Education } }
    where: { Project_ProjectToUser: { some: { type: { equals: Education } } } }
  ) {
    ...UserNoNesting
  }

  codeChallengeCompletions(
    orderBy: { createdAt: desc }
    take: 3
    # where: { Task: { status: Completed } }
    where: {
      Task_CodeChallengeCompletionToTask: { status: { equals: Completed } }
    }
  ) {
    ...mainPageCodeChallengeCompletion
  }

  comments: resources(
    take: 5
    orderBy: { createdAt: desc }
    where: { type: { equals: Comment } }
  ) {
    ...resource_
  }

  # Задачи, требующие выполнения
  tasksNeedHelp: tasksConnection(
    where: { needHelp: { equals: true }, status: { notIn: [Completed] } }
    orderBy: { createdAt: desc }
    first: 3
  ) {
    aggregate {
      count
    }
    edges {
      node {
        ...tasksConnectionTask
      }
    }
  }
}

fragment mainPageCodeChallengeCompletion on CodeChallengeCompletion {
  id
  CreatedBy {
    ...UserNoNesting
  }
  Task {
    id
    status
  }
  CodeChallenge {
    id
    name
    localeTitle
    description
    instructions
  }
}
